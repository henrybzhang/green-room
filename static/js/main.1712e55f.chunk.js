(this.webpackJsonpgame=this.webpackJsonpgame||[]).push([[0],{18:function(e,t,c){},20:function(e,t,c){},21:function(e,t,c){},22:function(e,t,c){},23:function(e,t,c){},24:function(e,t,c){},25:function(e,t,c){"use strict";c.r(t);var a=c(1),r=c.n(a),n=c(9),i=c.n(n),s=(c(18),c(2)),o=c(4),b=c(3),j=c(0),u=Object(a.createContext)();function l(e){var t=e.children,c=Object(a.useState)({}),r=Object(s.a)(c,2),n=r[0],i=r[1],l=Object(a.useState)({}),O=Object(s.a)(l,2),d=O[0],f=O[1];return Object(j.jsx)(u.Provider,{value:{playerItems:n,playerStructures:d,setPlayerStructures:f,addItem:function(e,t){i(e in n?Object(b.a)(Object(b.a)({},n),{},Object(o.a)({},e,n[e]+t)):Object(b.a)(Object(b.a)({},n),{},Object(o.a)({},e,t)))}},children:t})}c(20);var O=function(){var e=Object(a.useContext)(u).playerItems;return Object(j.jsxs)("fieldset",{className:"invent",children:[Object(j.jsx)("legend",{children:"Collection"}),Object.entries(e).map((function(e){var t=Object(s.a)(e,2),c=t[0],a=t[1];return Object(j.jsxs)("div",{children:[c,":",a]})}))]})},d=c.p+"static/media/1.66ddb223.JPG",f=c.p+"static/media/2.8959fc90.JPG",h=Object(a.createContext)(),p={pickUpTrash:"Pick up trash"},v=["trash","wood","metal","plastic"];function m(e){var t=e.children,c=Object(a.useContext)(u),r=c.addItem,n=c.playerItems,i=c.playerStructures,l=c.setPlayerStructures,O=Object(a.useState)(null),m=Object(s.a)(O,2),x=m[0],y=m[1],k=Object(a.useState)(p),g=Object(s.a)(k,2),S=g[0],C=g[1],R=Object(a.useState)(d),w=Object(s.a)(R,2),I=w[0],N=w[1],P=Object(a.useState)({}),T=Object(s.a)(P,2),A=T[0],U=T[1];Object(a.useEffect)((function(){if(x){try{switch(x){case"pickUpTrash":var e=v[Math.floor(Math.random()*v.length)];r(e,1);break;case"filterRiver":r("wood",1);break;case"fixRecycler":l(Object(b.a)(Object(b.a)({},i),{},{recycler:!0})),N(f);break;case"useRecycler":break;default:throw Error("Unknown action: ".concat(x))}E(x)}catch(t){}y(null)}}),[x]);var E=function(e){U(e in A?Object(b.a)(Object(b.a)({},A),{},Object(o.a)({},e,A[e]+1)):Object(b.a)(Object(b.a)({},A),{},Object(o.a)({},e,1)))};return Object(a.useEffect)((function(){C(Object(b.a)(Object(b.a)({pickUpTrash:"Pick up trash"},A.pickUpTrash>=10&&!i.recycler&&{fixRecycler:"Fix recycler"}),n.trash&&!i.recycler&&{useRecycler:"Recycle trash"}))}),[n,A,i]),Object(j.jsx)(h.Provider,{value:{currentAction:x,setCurrentAction:y,availableActions:S,backgroundImage:I},children:t})}c(21);var x=function(e){var t=e.actionName,c=e.actionText,r=Object(a.useContext)(h).setCurrentAction;return Object(j.jsx)("button",{type:"button",className:"buttons shrink-on-hover",onClick:function(){return r(t)},children:c})};c(22);var y=function(e){var t=e.actionMap;return Object(j.jsx)("div",{className:"buttons-group",children:Object.entries(t).map((function(e){var t=Object(s.a)(e,2),c=t[0],a=t[1];return Object(j.jsx)(x,{actionName:c,actionText:a})}))})},k=c(6);c(23);var g=function(){var e=Object(a.useContext)(h).currentAction,t=Object(a.useState)([]),c=Object(s.a)(t,2),r=c[0],n=c[1];return Object(a.useEffect)((function(){if(e)switch(e){case"pickUpTrash":n(["Some trash from the ground is picked up"].concat(Object(k.a)(r)));break;case"filterRiver":n(["Some litter is filtered from the river"].concat(Object(k.a)(r)));break;case"fixRecycler":n(["The recycler is now operational"].concat(Object(k.a)(r)));break;case"useRecycler":n(["Some trash is recycled into usable items"].concat(Object(k.a)(r)))}}),[e]),Object(j.jsx)("div",{className:"log",children:r.map((function(e){return Object(j.jsx)("div",{children:e})}))})};c(24);var S=function(){var e=Object(a.useContext)(h),t=e.availableActions,c=e.backgroundImage;return console.log("availableActions",t),Object(j.jsx)("div",{className:"app",style:{backgroundImage:"url(".concat(c,")")},children:Object(j.jsxs)("div",{className:"items",children:[Object(j.jsx)(y,{actionMap:t}),Object(j.jsx)(O,{}),Object(j.jsx)(g,{})]})})};i.a.createRoot(document.getElementById("root")).render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(l,{children:Object(j.jsx)(m,{children:Object(j.jsx)(S,{})})})}))}},[[25,1,2]]]);
//# sourceMappingURL=main.1712e55f.chunk.js.map